"use strict";(self["webpackChunksanyue_imghub"]=self["webpackChunksanyue_imghub"]||[]).push([[278],{3278:function(t,e,i){i.r(e),i.d(e,{default:function(){return p}});var s=i(47),a=(i(5331),i(9648),i(6768));const n={class:"login"},o={class:"login-container"};function l(t,e,i,l,r,g){const c=s.S2;return(0,a.uX)(),(0,a.CE)("div",n,[e[2]||(e[2]=(0,a.Lk)("img",{id:"bg1",class:"background-image1",alt:"Background Image"},null,-1)),e[3]||(e[3]=(0,a.Lk)("img",{id:"bg2",class:"background-image2",alt:"Background Image"},null,-1)),(0,a.Lk)("div",o,[e[1]||(e[1]=(0,a.Lk)("h1",null,"Login",-1)),(0,a.bF)(c,{class:"submit",type:"primary",onClick:g.login},{default:(0,a.k6)((()=>e[0]||(e[0]=[(0,a.eW)("登录")]))),_:1},8,["onClick"])])])}i(4114),i(4603),i(7566),i(8721);var r=i(4570),g=i.n(r),c=i(782),u={data(){return{authCode:"",writtenAuthCode:"",bingWallPaperIndex:0,customWallPaperIndex:0}},computed:{...(0,c.L8)(["userConfig","bingWallPapers"]),bkInterval(){return this.userConfig?.bkInterval||3e3},bkOpacity(){return this.userConfig?.bkOpacity||1}},mounted(){const t=new URLSearchParams(window.location.search),e=t.get("authCode");console.log("Parsed authCode from URL:",e),this.authCode=e,g().set("authCode",this.urlAuthCode,"14d");const s=document.getElementById("bg1"),a=document.getElementById("bg2");"bing"===this.userConfig?.loginBkImg?this.$store.dispatch("fetchBingWallPapers").then((()=>{s.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,s.onload=()=>{s.style.opacity=this.bkOpacity},setInterval((()=>{let t=0!=s.style.opacity?s:a,e=0!=s.style.opacity?a:s;t.style.opacity=0,this.bingWallPaperIndex=(this.bingWallPaperIndex+1)%this.bingWallPapers.length,e.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,e.onload=()=>{e.style.opacity=this.bkOpacity}}),this.bkInterval)})):this.userConfig?.loginBkImg instanceof Array&&this.userConfig?.loginBkImg.length>1?(s.src=this.userConfig.loginBkImg[this.customWallPaperIndex],s.onload=()=>{s.style.opacity=this.bkOpacity},setInterval((()=>{let t=0!=s.style.opacity?s:a,e=0!=s.style.opacity?a:s;t.style.opacity=0,this.customWallPaperIndex=(this.customWallPaperIndex+1)%this.userConfig.loginBkImg.length,e.src=this.userConfig.loginBkImg[this.customWallPaperIndex],e.onload=()=>{e.style.opacity=this.bkOpacity}}),this.bkInterval)):this.userConfig?.loginBkImg instanceof Array&&1===this.userConfig?.loginBkImg.length?(s.src=this.userConfig.loginBkImg[0],s.onload=()=>{s.style.opacity=this.bkOpacity}):(s.src=i(732),s.onload=()=>{s.style.opacity=this.bkOpacity})},methods:{login(){this.writtenAuthCode=this.authCode,g().set("authCode",this.authCode,"14d"),this.$router.push("/"),this.$message.success("登录成功~")}}},h=i(1241);const d=(0,h.A)(u,[["render",l],["__scopeId","data-v-1a2f12c6"]]);var p=d},732:function(t,e,i){t.exports=i.p+"img/background.c658d1a4.jpg"}}]);
//# sourceMappingURL=278.7be5054f.js.map